# 대학원생의 생존기 프로젝트 에이전트 가이드

이 문서는 `대학원생의 생존기` 웹 기반 텍스트 어드벤처 게임의 코드 구조와 각 파일의 역할을 설명하여, 새로운 기능 및 스토리 추가를 용이하게 하는 것을 목표로 합니다.

## 프로젝트 구조

```
/
├── main.py               # 게임 시작 및 Game 객체 생성
├── game.py               # 게임의 핵심 로직, 씬(Scene) 관리, 키워드 처리
├── entity.py             # 게임 내 객체(아이템, 가방) 정의
├── ui.py                 # UI(DOM) 조작 및 화면 출력 담당
├── index.html            # 게임의 기본 HTML 구조
├── style.css             # 게임의 스타일 시트
└── pyscript.toml         # PyScript 설정 파일
```

## 주요 파일 설명

### `main.py`

- **역할**: 게임의 진입점(Entry Point)입니다.
- **주요 기능**:
    - `Game` 클래스의 인스턴스를 생성하여 게임을 시작합니다.

### `game.py`

- **역할**: 게임의 핵심 두뇌 역할을 합니다.
- **주요 기능**:
    - `SCENES` 딕셔너리에 각 씬의 정보(초기 텍스트, 키워드, 상호작용 등)를 정의합니다.
    - `process_command` 함수를 통해 사용자의 입력을 받아, 현재 씬의 키워드와 매칭되는지 확인하고 관련 로직을 수행합니다.
    - 플레이어의 상태(체력, 인벤토리)와 게임의 흐름(씬 전환)을 관리합니다.
    - 키워드 타입(`Item`, `Portal`, `Interaction` 등)에 따라 아이템 획득, 씬 이동, 조건부 이벤트 처리 등을 수행합니다.
    - `UIManager`와 `Entity` 객체와 상호작용하며 게임 상태를 UI에 반영합니다.

### `entity.py`

- **역할**: 게임에 등장하는 모든 객체(Entity)의 청사진을 정의합니다.
- **주요 클래스**:
    - `Entity`: 모든 게임 객체의 부모 클래스입니다. `UIManager` 인스턴스를 공유합니다.
    - `Item`: 이름과 설명을 가지는 아이템 클래스입니다.
    - `Bag`: `Item` 객체들을 담고 관리하는 가방 클래스입니다.

### `ui.py`

- **역할**: 웹 페이지의 DOM(Document Object Model) 조작을 통해 사용자 인터페이스를 전담합니다.
- **주요 기능**:
    - `pyscript`를 통해 HTML 요소를 가져오고 내용을 수정합니다.
    - `update_status` 함수로 상태창(지역, 졸업 의지, 지역 키워드)을 실시간으로 갱신합니다.
    - `update_inventory` 함수로 인벤토리 목록을 갱신합니다.
    - 내러티브, 시스템 메시지, 사용자 입력 로그 등 다양한 유형의 텍스트를 화면에 출력합니다.

## 새로운 씬(Scene) 및 스토리 추가 가이드

1.  **새로운 씬 추가**:
    - `game.py`의 `SCENES` 딕셔너리에 새로운 씬 ID(예: `"scene_3"`)를 키로 하는 딕셔너리를 추가합니다.
    - 씬의 `name`(지역명), `initial_text`(초기 텍스트), `keywords`(상호작용 키워드)를 정의합니다.

2.  **새로운 키워드 추가**:
    - 특정 씬의 `keywords` 딕셔너리 안에 새로운 키워드(유저가 입력할 단어)를 추가합니다.
    - 키워드의 `type`을 정의합니다. (`Interaction`, `Item`, `Portal` 등)
    - `reaction`(반응 텍스트)과 타입에 따른 추가 속성(예: `next_scene`, `condition`, `items`)을 설정합니다.

3.  **아이템 추가 및 사용**:
    - `type: "Item"` 키워드를 통해 플레이어가 아이템을 획득하게 할 수 있습니다.
    - `type: "Interaction"`의 `condition` 속성을 사용하여 특정 아이템 보유 여부에 따라 다른 결과를 출력할 수 있습니다. (예: `박스` 키워드)

4.  **씬 전환**:
    - `type: "Portal"` 또는 `type: "Trigger"` 키워드를 사용하여 `next_scene`에 지정된 ID의 씬으로 게임 상태를 전환할 수 있습니다.
    - `Portal`의 경우, `condition`을 추가하여 특정 조건을 만족해야만 이동 가능하도록 설정할 수 있습니다.
